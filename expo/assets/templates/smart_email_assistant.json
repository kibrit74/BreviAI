{
    "id": "smart-email-assistant-v1",
    "name": "ğŸ“§ AkÄ±llÄ± E-posta AsistanÄ±",
    "description": "Gmail ve Outlook e-postalarÄ±nÄ± okur, VIP kiÅŸilerden gelenleri Ã¶nemli olarak bildirir, AI ile cevap Ã¶nerileri Ã¼retir",
    "icon": "ğŸ“§",
    "nodes": [
        {
            "id": "trigger-1",
            "type": "TIME_TRIGGER",
            "label": "Her 15dk Kontrol Et",
            "config": {
                "hour": 9,
                "minute": 0,
                "repeat": true,
                "interval": 15
            },
            "position": {
                "x": 250,
                "y": 50
            }
        },
        {
            "id": "gmail-read",
            "type": "GMAIL_READ",
            "label": "Gmail OkunmamÄ±ÅŸlarÄ± Al",
            "config": {
                "maxResults": 10,
                "query": "is:unread",
                "variableName": "gmailEmails"
            },
            "position": {
                "x": 100,
                "y": 200
            }
        },
        {
            "id": "outlook-read",
            "type": "OUTLOOK_READ",
            "label": "Outlook OkunmamÄ±ÅŸlarÄ± Al",
            "config": {
                "folderName": "Inbox",
                "maxResults": 10,
                "unreadOnly": true,
                "variableName": "outlookEmails"
            },
            "position": {
                "x": 400,
                "y": 200
            }
        },
        {
            "id": "merge-var",
            "type": "VARIABLE",
            "label": "E-postalarÄ± BirleÅŸtir",
            "config": {
                "operation": "set",
                "name": "allEmails",
                "value": "Gmail Mailleri:\n{{gmailEmails}}\n\n---\n\nOutlook Mailleri:\n{{outlookEmails}}"
            },
            "position": {
                "x": 250,
                "y": 350
            }
        },
        {
            "id": "agent-categorize",
            "type": "AGENT_AI",
            "label": "E-postalarÄ± Kategorile",
            "config": {
                "prompt": "Sen bir e-posta asistanÄ±sÄ±n. AÅŸaÄŸÄ±daki e-postalarÄ± analiz et ve JSON formatÄ±nda kategorize et.\n\n## VIP KiÅŸi Listesi (Ã–NEMLÄ° - bu kiÅŸilerden gelen mailler 'vip' olarak iÅŸaretle):\n- yavuz.obuz (herhangi bir domainle)\n- patron@\n- muhasebe@\n- ceo@, cfo@, cto@\n- KullanÄ±cÄ± bu listeyi dÃ¼zenleyebilir\n\n## Kategoriler:\n1. **vip** - VIP listesindeki kiÅŸilerden gelen\n2. **urgent** - Acil/Ã¶ncelikli (konu baÅŸlÄ±ÄŸÄ±nda ACÄ°L, URGENT, Ã–NEMLÄ° vb.)\n3. **finance** - Fatura, Ã¶deme, banka ile ilgili\n4. **social** - Sosyal medya bildirimleri\n5. **newsletter** - BÃ¼lten, reklam, promosyon\n6. **other** - DiÄŸer\n\n## Ã‡Ä±ktÄ± FormatÄ± (JSON):\n{\n  \"summary\": \"Toplam X mail: Y Ã¶nemli, Z acil\",\n  \"vipCount\": 0,\n  \"urgentCount\": 0,\n  \"categories\": [\n    {\n      \"category\": \"vip\",\n      \"emails\": [\n        {\n          \"from\": \"kimden\",\n          \"subject\": \"konu\",\n          \"preview\": \"ilk 100 karakter\",\n          \"priority\": \"high\"\n        }\n      ]\n    }\n  ]\n}\n\n## E-postalar:\n{{allEmails}}",
                "provider": "gemini",
                "model": "gemini-2.0-flash-exp",
                "temperature": 0.2,
                "maxTokens": 3000,
                "variableName": "categorized",
                "outputFormat": "json"
            },
            "position": {
                "x": 250,
                "y": 500
            }
        },
        {
            "id": "check-vip",
            "type": "IF_ELSE",
            "label": "VIP Mail Var mÄ±?",
            "config": {
                "left": "{{categorized.vipCount}}",
                "operator": ">",
                "right": "0"
            },
            "position": {
                "x": 250,
                "y": 650
            }
        },
        {
            "id": "vip-notify",
            "type": "NOTIFICATION",
            "label": "âš¡ VIP Mail Bildirimi",
            "config": {
                "type": "notification",
                "title": "âš¡ Ã–NEMLÄ° MAIL GELDÄ°!",
                "message": "VIP kiÅŸiden {{categorized.vipCount}} yeni mail var!\n{{categorized.summary}}"
            },
            "position": {
                "x": 100,
                "y": 800
            }
        },
        {
            "id": "normal-notify",
            "type": "NOTIFICATION",
            "label": "ğŸ“¬ Normal Mail Bildirimi",
            "config": {
                "type": "notification",
                "title": "ğŸ“¬ Yeni Mailler",
                "message": "{{categorized.summary}}"
            },
            "position": {
                "x": 400,
                "y": 800
            }
        },
        {
            "id": "agent-reply",
            "type": "AGENT_AI",
            "label": "Cevap Ã–nerileri Ãœret",
            "config": {
                "prompt": "Sen profesyonel bir e-posta asistanÄ±sÄ±n. AÅŸaÄŸÄ±daki kategorize edilmiÅŸ e-postalar iÃ§in cevap Ã¶nerileri Ã¼ret.\n\n## Kurallar:\n- Sadece 'vip' ve 'urgent' kategorisindeki maillere cevap Ã¶nerisi yaz\n- Her mail iÃ§in 2 alternatif cevap Ã¶ner: biri kÄ±sa/hÄ±zlÄ±, diÄŸeri detaylÄ±/profesyonel\n- TÃ¼rkÃ§e yaz, resmi ve profesyonel ton kullan\n- EÄŸer mail bir fatura/Ã¶deme bildirimi ise, onay cevabÄ± Ã¶ner\n- EÄŸer toplantÄ± daveti ise, kabul ve reddetme seÃ§enekleri sun\n\n## Ã‡Ä±ktÄ± FormatÄ±:\nğŸ“© Kimden: [gÃ¶nderen]\nğŸ“‹ Konu: [konu]\n\nâœï¸ HÄ±zlÄ± Cevap:\n[kÄ±sa cevap metni]\n\nğŸ“ DetaylÄ± Cevap:\n[uzun cevap metni]\n\n---\n(sonraki mail iÃ§in tekrarla)\n\n## Kategorize EdilmiÅŸ E-postalar:\n{{categorized}}",
                "provider": "gemini",
                "model": "gemini-2.0-flash-exp",
                "temperature": 0.5,
                "maxTokens": 3000,
                "variableName": "replyDrafts"
            },
            "position": {
                "x": 250,
                "y": 950
            }
        },
        {
            "id": "file-save",
            "type": "FILE_WRITE",
            "label": "Raporu Dosyaya Kaydet",
            "config": {
                "filename": "email_rapor_{{_currentDate}}.txt",
                "content": "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n  ğŸ“§ GÃœNLÃœK E-POSTA RAPORU\n  ğŸ“… {{_currentDate}} {{_currentTime}}\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nğŸ“Š Ã–ZET:\n{{categorized.summary}}\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n  âœï¸ CEVAP Ã–NERÄ°LERÄ°\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n{{replyDrafts}}\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n  ğŸ“‹ TÃœM KATEGORÄ°LER\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n{{categorized}}"
            },
            "position": {
                "x": 250,
                "y": 1100
            }
        },
        {
            "id": "final-notify",
            "type": "NOTIFICATION",
            "label": "âœ… Rapor HazÄ±r",
            "config": {
                "type": "notification",
                "title": "âœ… E-posta Raporu HazÄ±r",
                "message": "Cevap Ã¶nerileri ve kategori raporu kaydedildi. Dosyadan kontrol edebilirsiniz."
            },
            "position": {
                "x": 250,
                "y": 1250
            }
        }
    ],
    "edges": [
        {
            "id": "e1",
            "sourceNodeId": "trigger-1",
            "targetNodeId": "gmail-read",
            "sourcePort": "default"
        },
        {
            "id": "e2",
            "sourceNodeId": "trigger-1",
            "targetNodeId": "outlook-read",
            "sourcePort": "default"
        },
        {
            "id": "e3",
            "sourceNodeId": "gmail-read",
            "targetNodeId": "merge-var",
            "sourcePort": "default"
        },
        {
            "id": "e4",
            "sourceNodeId": "outlook-read",
            "targetNodeId": "merge-var",
            "sourcePort": "default"
        },
        {
            "id": "e5",
            "sourceNodeId": "merge-var",
            "targetNodeId": "agent-categorize",
            "sourcePort": "default"
        },
        {
            "id": "e6",
            "sourceNodeId": "agent-categorize",
            "targetNodeId": "check-vip",
            "sourcePort": "default"
        },
        {
            "id": "e7",
            "sourceNodeId": "check-vip",
            "targetNodeId": "vip-notify",
            "sourcePort": "true"
        },
        {
            "id": "e8",
            "sourceNodeId": "check-vip",
            "targetNodeId": "normal-notify",
            "sourcePort": "false"
        },
        {
            "id": "e9",
            "sourceNodeId": "vip-notify",
            "targetNodeId": "agent-reply",
            "sourcePort": "default"
        },
        {
            "id": "e10",
            "sourceNodeId": "normal-notify",
            "targetNodeId": "agent-reply",
            "sourcePort": "default"
        },
        {
            "id": "e11",
            "sourceNodeId": "agent-reply",
            "targetNodeId": "file-save",
            "sourcePort": "default"
        },
        {
            "id": "e12",
            "sourceNodeId": "file-save",
            "targetNodeId": "final-notify",
            "sourcePort": "default"
        }
    ]
}